#!/bin/sh -eux

# export UB_MAKE_PROCS=1

ub_compile \
	-DBUILD_SHARED_LIBS=ON \
	-DCMAKE_BUILD_TYPE=Release \
	-DLLDB_DISABLE_PYTHON=ON \
	-DLLVM_BUILD_DOCS=ON \
	-DLLVM_CCACHE_BUILD=ON \
	-DLLVM_ENABLE_ASSERTIONS=OFF \
	-DLLVM_ENABLE_DOXYGEN=OFF \
	-DLLVM_ENABLE_EXPENSIVE_CHECKS=OFF \
	-DLLVM_ENABLE_FFI=ON \
	-DLLVM_ENABLE_RTTI=ON \
	-DLLVM_ENABLE_SPHINX=ON \
	-DLLVM_INCLUDE_TESTS=OFF \
	-DLLVM_LINK_LLVM_DYLIB=OFF \
	-DSPHINX_WARNINGS_AS_ERRORS=OFF
